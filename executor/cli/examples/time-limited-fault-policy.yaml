# 时间限制故障策略 - 故障立即执行，但仅在指定时间内有效
# 场景：推荐系统的快速实验，自动过期
# 用于：临时注入故障用于测试，过期后自动清理

metadata:
  name: "time-limited-fault-policy"
spec:
  rules:
    - match:
        method:
          exact: "GET"
        path:
          exact: "/api/recommendations"
      fault:
        percentage: 50
        start_delay_ms: 0        # 请求到达时立即执行
        duration_seconds: 300    # 仅在 5 分钟内有效，然后自动删除
        delay:
          fixed_delay: "500ms"
