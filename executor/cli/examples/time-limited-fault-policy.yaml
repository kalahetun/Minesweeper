# 时间限制故障策略
# 功能：故障立即执行，但在指定时间后自动过期
# 场景：临时故障注入实验，自动清理

metadata:
  name: "time-limited-fault-policy"
spec:
  rules:
    - match:
        method:
          exact: "GET"
        path:
          exact: "/api/recommendations"
      fault:
        percentage: 50           # 50% 概率触发
        start_delay_ms: 0        # 请求到达时立即执行
        duration_seconds: 300    # 5 分钟后自动过期
        delay:
          fixed_delay: "500ms"
